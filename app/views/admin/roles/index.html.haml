= javascript_include_tag "dragdrop.js"

:javascript
  $(document).ready(function() {
    ddManager = new DragDropManager();
    ddManager.init({moveable_element: 'draggable-elements', 
                  receiving_element: 'drop-place',
                  remote: { url: {base: "/admin/seasons/#{@season.id}/roles", format: ".js"}}
                  });
  });

%h1 Joukkue kaudella #{@season}

#contextNavi
  = link_to image_tag('arrow_left.png', :size => '16x16'), admin_seasons_path
  = link_to 'Takaisin', admin_seasons_path
  \|

.help
  = "Huom. Muutokset tallentuvat heti, kun pelaaja raahataan johonkin laatikoista."

#memberSelection
  .memberColumn
    %h2 Kaikki jÃ¤senet
    %ul{:class => "drop-place draggable-elements", :id => "role-"}
      - @unassigned_members.each do |member|
        %li{:id => "id-#{member.id}"}= member
  
  .selectedTeam
    %h2 Joukkueeseen valitut
    .memberColumn
      %h3 Pelaajat
      %ul{:class => "drop-place draggable-elements", :id => "role-player"}
        - @players.each do |player|
          %li{:id => "id-#{player.id}"}= player
          
    .memberColumn
      %h3 Valmentajat
      %ul{:class => "drop-place draggable-elements", :id => "role-coach"}
        - @coaches.each do |coach|
          %li{:id => "id-#{coach.id}"}= coach